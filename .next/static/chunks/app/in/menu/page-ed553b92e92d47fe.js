(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{423:()=>{},1001:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(3464);let a={apiBaseUrl:"https://back.fgp.one/api"},o=s.A.create({baseURL:a.apiBaseUrl,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{{let t=localStorage.getItem("accessToken");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,async e=>{var t;if((null==(t=e.response)?void 0:t.status)===401&&!e.config._retry){let t=localStorage.getItem("refreshToken");if(t){e.config._retry=!0;try{let r=(await s.A.post("".concat(a.apiBaseUrl,"/auth/refresh-token"),{},{headers:{Authorization:"Bearer ".concat(t)}})).data.accessToken;return localStorage.setItem("accessToken",r),e.config.headers.Authorization="Bearer ".concat(r),o(e.config)}catch(e){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/",Promise.reject(e)}}}return Promise.reject(e)});let n=o},4543:(e,t,r)=>{Promise.resolve().then(r.bind(r,9619))},7723:()=>{},9619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),a=r(2115),o=r(1001);function n(e){let{onSelect:t,activeId:r}=e,[n,c]=(0,a.useState)([]),i=(0,a.useRef)(null),l=(0,a.useRef)({});(0,a.useEffect)(()=>{o.A.get("/restaurant/categories/la-espanolita").then(e=>c(e.data)).catch(e=>console.error("Error fetching categories:",e))},[]);let u=e=>{t(e)};return(0,a.useEffect)(()=>{if("number"==typeof r&&l.current[r]&&i.current){let e=l.current[r],t=i.current,s=e.offsetLeft+e.offsetWidth/2-t.offsetWidth/2;t.scrollTo({left:s,behavior:"smooth"})}},[r]),(0,s.jsx)("div",{ref:i,className:"chip-buttons scrollable",children:n.map(e=>(0,s.jsx)("button",{ref:t=>{l.current[e.id]=t},className:"chip ".concat(r===e.id?"active":""),onClick:()=>u(e.id),children:e.name},e.id))})}function c(){let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(null),i=(0,a.useRef)({}),l=async()=>{try{let e=await o.A.get("/restaurant/categories/la-espanolita");t(e.data)}catch(e){console.error("Error al cargar men\xfa:",e)}};return(0,a.useEffect)(()=>{l()},[]),(0,a.useEffect)(()=>{let t=()=>{for(let t of e){let e=i.current[t.id];if(e){let r=e.getBoundingClientRect();if(r.top<=120&&r.bottom>=120){c(t.id);break}}}};return window.addEventListener("scroll",t,{passive:!0}),()=>window.removeEventListener("scroll",t)},[e]),(0,s.jsxs)("div",{className:"menus-page",children:[(0,s.jsx)(n,{onSelect:e=>{if(null===e){window.scrollTo({top:0,behavior:"smooth"}),c(null);return}let t=i.current[e];t&&t.scrollIntoView({behavior:"smooth",block:"start"})},activeId:r}),e.map(e=>(0,s.jsxs)("div",{ref:t=>{i.current[e.id]=t},className:"category-block",children:[(0,s.jsx)("h2",{children:e.name}),(0,s.jsx)("div",{className:"menus-list",children:e.menus.map(e=>(0,s.jsxs)("div",{className:"menu-card",children:[(0,s.jsx)("h3",{children:e.name}),(0,s.jsx)("p",{children:e.description}),(0,s.jsxs)("strong",{children:["S/ ",e.price]})]},e.id))})]},e.id))]})}r(7723),r(423)}},e=>{var t=t=>e(e.s=t);e.O(0,[129,464,441,684,358],()=>t(4543)),_N_E=e.O()}]);